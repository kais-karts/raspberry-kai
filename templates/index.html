<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kai Karts</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='dist/css/output.css') }}"
    />
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='dist/css/styles.css') }}"
    />
  </head>
  <body class="bg-gray-800 h-screen">
    <div class="container flex flex-row mx-auto px-4 py-20 h-full">
      <div class="bg-green-800 h-full flex flex-1">
        <div class="slideshow">
          <img src="static/power_ups/banana.webp" class="active" alt="banana" />
          <img src="static/power_ups/bill.webp" alt="bullet_bill" />
          <img src="static/power_ups/greenshell.webp" alt="Image 3" />
        </div>
      </div>
      <div class="bg-red-800 flex-1 h-full">
        <div class="w-2/3 relative h-full">
          <div class="relative w-full h-full">
            <img
              src="{{ url_for('static', filename='map.png') }}"
              alt="Map"
              class="w-full"
            />
            {% for kart in karts %} {% set scaled_location = kart.location |
            scale_location %}
            <div
              class="absolute"
              style="top: {{ scaled_location[1] }}%; left: {{ scaled_location[0] }}%;"
            >
              <img
                src="{{ url_for('static', filename=kart.name ~ '-head.png') }}"
                alt="{{ kart.name }}"
                class="w-14 h-14"
              />
            </div>
            {% endfor %}
          </div>
        </div>
        <div class="w-1/3 ml-5 overflow-auto my-auto">
          {% for kart in karts[:6] %}
          <div class="bg-white px-4 py-5 mb-4 rounded shadow flex items-center">
            <span class="text-2xl font-bold mr-6">{{ loop.index }}</span>
            <img
              src="{{ url_for('static', filename=kart.name ~ '-head.png') }}"
              alt="{{ kart.name }}"
              class="w-8 h-8 mr-4"
            />
            <div class="flex justify-between w-full">
              <h2 class="text-2xl font-bold">{{ kart.get_name() }}</h2>
              <p class="text-gray-700 text-xl">{{ kart.current_item }}</p>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
